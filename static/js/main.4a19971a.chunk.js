(this.webpackJsonphello=this.webpackJsonphello||[]).push([[0],{22:function(e,t,o){e.exports=o(50)},28:function(e,t,o){},29:function(e,t,o){},30:function(e,t,o){},31:function(e,t,o){},49:function(e,t,o){},50:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),r=o(20),s=o.n(r),i=o(10),c=o.n(i),l=o(21),d=o(2),u=o(3),p=o(5),m=o(4),h=o(6),f=(o(28),function(e){function t(){var e,o;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={roomName:"",password:""},o.setUserName=function(){for(var e="#",t=[0,1,2,3,4,5,6,7,8,9,"a","b","c","d","e","f"],o=0;o<6;++o)e+=t[Math.floor(Math.random()*(Math.floor(16)-Math.ceil(0)))+0];return e},o.findRoom=function(e,t){for(var o=0;o<e.length;++o)if(t===e[o].name)return o;return-1},o.handleFormSubmit=function(e){e.preventDefault(),o.props.roomJoin(o.state.roomName,o.state.password,o.setUserName()).then((function(e){if(""!==o.state.roomName&&""!==o.state.password){var t=o.findRoom(e.data,o.state.roomName),n=e.data[t].name,a=e.data[t].userCount-1;o.props.roomJoinSet(t,n,a)}else console.log("input None")}))},o.handleValueChange=function(e){var t={};t[e.target.name]=e.target.value,o.setState(t)},o}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("form",{className:"form",onSubmit:this.handleFormSubmit,autocomplete:"off"},a.a.createElement("label",null,"Room Name"),a.a.createElement("input",{type:"text",name:"roomName",value:this.state.roomName,onChange:this.handleValueChange}),a.a.createElement("label",null,"Password"),a.a.createElement("input",{type:"text",name:"password",value:this.state.password,onChange:this.handleValueChange}),a.a.createElement("button",{type:"submit"}," Join "))}}]),t}(a.a.Component)),b=(o(29),o(8)),A=o.n(b),x=o(9),v=o.n(x),g=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this;return a.a.createElement("ul",{className:"userlist"},this.props.user.map((function(t,o){var n=t.list[t.todo];return a.a.createElement(k,{key:o,index:o,listLength:t.list.length,id:t.id,name:t.name,todoIndex:t.todo,todo:n||t.list[t.todo-1],roomName:e.props.roomName,setfocus:e.props.setfocus,setTodoIndex:e.props.setTodoIndex})})))}}]),t}(n.Component),k=function(e){function t(){var e,o;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).moveCheckBox=function(){return console.log("\uc6b0\uc6c5\uc6b0\uc6c5"),0},o.checkBoxClick=function(e){e.stopPropagation(),o.props.todoIndex===o.props.listLength?o.moveCheckBox():o.props.setTodoIndex(o.props.roomName,o.props.id,o.props.todoIndex+1)},o.liOnClick=function(){o.props.setfocus(o.props.index)},o}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=0!==this.props.index?{borderTop:"black 2px solid"}:{borderTop:"none"},t={backgroundColor:this.props.name},o=this.props.todoIndex===this.props.listLength?0!==this.props.listLength?{textDecoration:"line-through",textDecorationColor:"red"}:{textDecoration:"none",textAlign:"center"}:{textDecoration:"none"},n=this.props.todoIndex===this.props.listLength?0!==this.props.listLength?this.props.todoIndex+"."+this.props.todo:"--Click to add--":this.props.todoIndex+1+"."+this.props.todo;return a.a.createElement("li",{className:"userlistli",style:e,onClick:this.liOnClick},a.a.createElement("div",{className:"profile",style:t}),a.a.createElement("img",{src:0===this.props.index?v.a:A.a,alt:0===this.props.index?"user":"master"}),a.a.createElement("span",{className:"todo",style:o},n),a.a.createElement("div",{className:"checkbox",onClick:this.checkBoxClick}))}}]),t}(n.Component);k.defaultProps={index:-1,name:"error",todo:"...",setTodoIndex:function(){return-1}};var O=g,C=(o(30),function(e){function t(){var e,o;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={newTodoList:"add...",backClickCount:1},o.todoListClick=function(){o.setState({backClickCount:o.state.backClickCount+1}),console.log("todoList onclick call!! "+o.state.backClickCount)},o.backClick=function(){o.setState({backClickCount:o.state.backClickCount-1}),console.log("window onclick call!! "+o.state.backClickCount),o.state.backClickCount<0&&(console.log("focus -1 change!!!"),o.props.setfocus(-1))},o.handleFormSubmit=function(e){e.preventDefault(),o.props.addTodoList(o.props.roomName,o.props.id,o.state.newTodoList).then((function(e){console.log("todo ADD {"+e)})),o.setState({newTodoList:"add..."})},o.handleValueChange=function(e){var t={};t[e.target.name]=e.target.value,o.setState(t)},o}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){window.onclick=this.backClick}},{key:"componentWillUnmount",value:function(){window.onclick=function(){}}},{key:"render",value:function(){var e=this,t={backgroundColor:this.props.name};return a.a.createElement("div",{className:"todolist",onClick:this.todoListClick},a.a.createElement("div",{className:"profile",style:t}),a.a.createElement("img",{src:0===this.props.index?v.a:A.a,alt:0===this.props.index?"master":"user"}),a.a.createElement("ul",{className:"todolistul"},this.props.list.map((function(t,o){return a.a.createElement(N,{key:o,l:t,i:o,todoIndex:e.props.todoIndex,id:e.props.id,roomName:e.props.roomName,setTodoIndex:e.props.setTodoIndex})})),a.a.createElement("li",{className:"todolistliform",style:0===this.props.list.length?{borderTop:"none"}:{borderTop:"black 2px solid"}},a.a.createElement("form",{onSubmit:this.handleFormSubmit},a.a.createElement("input",{type:"text",name:"newTodoList",value:this.state.newTodoList,onChange:this.handleValueChange}),a.a.createElement("button",{type:"submit"})))))}}]),t}(n.Component));C.defaultProps={index:-1,name:"error",todoIndex:-1,list:[],setTodoIndex:function(){return-1},addTodoList:function(){return-1},hListDel:function(){return-1},hListCha:function(){return-1},setfocus:function(){return-1}};var N=function(e){function t(){var e,o;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).checkBoxClick=function(){console.log(o.props.todoIndex),o.props.todoIndex===o.props.i?o.props.setTodoIndex(o.props.roomName,o.props.id,o.props.todoIndex+1):o.props.setTodoIndex(o.props.roomName,o.props.id,o.props.todoIndex-1)},o}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=0!==this.props.i?{borderTop:"black 2px solid"}:{borderTop:"none"},t=this.props.todoIndex===this.props.i||this.props.todoIndex-1===this.props.i?{display:""}:{display:"none"},o=this.props.todoIndex>this.props.i?{textDecoration:"line-through",textDecorationColor:"red"}:{textDecoration:"none"};return a.a.createElement("li",{className:"todolistli",style:e},a.a.createElement("span",{style:o},this.props.l),a.a.createElement("div",{className:"checkbox",style:t,onClick:this.checkBoxClick}))}}]),t}(n.Component);N.defaultProps={todoIndex:-1,i:-1,l:"error",setTodoIndex:function(){return-1}};var I=C,y=(o(31),function(e){function t(){var e,o;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={focus:-1},o.setfocus=function(e){console.log("set Focus { "+e),o.setState({focus:e})},o}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this.props.user,t=this.state.focus;return a.a.createElement(a.a.Fragment,null,e?-1===t?a.a.createElement(O,{user:e,roomName:this.props.roomName,setfocus:this.setfocus,setTodoIndex:this.props.setTodoIndex}):e[t]?a.a.createElement(I,{index:t,name:e[t].name,roomName:this.props.roomName,id:e[t].id,setfocus:this.setfocus,todoIndex:e[t].todo,list:e[t].list,setTodoIndex:this.props.setTodoIndex,addTodoList:this.props.addTodoList}):a.a.createElement(O,{user:e,roomName:this.props.roomName,setfocus:this.setfocus,setTodoIndex:this.props.setTodoIndex}):a.a.createElement(E,null))}}]),t}(n.Component)),E=function(e){function t(){return Object(d.a)(this,t),Object(p.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"roomloding"},a.a.createElement("div",{className:"loding"}))}}]),t}(n.Component),j=y,w=o(7);function T(e,t,o){var n={roomName:e,password:t,userName:o};return Object(w.post)("/api/room",n)}function L(e,t,o){var n="/api/room"+e,a={userId:t,todoIndex:o};return Object(w.post)(n,a)}function J(e,t,o){var n="/api/room"+e,a={userId:t,newTodoList:o};return Object(w.post)(n,a)}o(49);var D=function(e){function t(){var e,o;Object(d.a)(this,t);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(o=Object(p.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).state={roomIndex:-1,roomName:-1,userId:-1,room:"'",joinRoom:'"'},o.roomJoinSet=function(e,t,n){o.setState({roomName:t,roomIndex:e,userId:n})},o.callApi=Object(l.a)(c.a.mark((function e(){var t,o;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/api/room");case 2:return t=e.sent,e.next=5,t.json();case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)}))),o}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("beforeunload",(function(t){t.returnValue="There is pending work. Sure you want to leave?",-1!==e.state.roomName&&function(e,t){var o="/api/room"+e,n={userId:t};return Object(w.post)(o,n)}(e.state.roomName,e.state.userId).then((function(e){console.log(e.data)}))})),this.callApi().then((function(t){return e.setState({room:t})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this;return this.callApi().then((function(t){return e.setState({room:t})})).catch((function(e){return console.log(e)})),a.a.createElement(a.a.Fragment,null,a.a.createElement("h1",{className:"title"},"To Do List"),a.a.createElement("div",{className:"mainView"},-1===this.state.roomIndex?a.a.createElement(f,{room:this.state.room,roomJoinSet:this.roomJoinSet,roomJoin:T}):a.a.createElement(j,{user:this.state.roomIndex in this.state.room?this.state.room[this.state.roomIndex].user:"",roomName:this.state.roomName,setTodoIndex:L,addTodoList:J})))}}]),t}(n.Component);s.a.render(a.a.createElement(D,null),document.getElementById("root"))},8:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAolJREFUeNrsmY2RmzAQheWrgA6sDqAD00HowHQQdxA64K4C4grsq8C4AqACnApwB4qebnEYTy42ghVchjezAzMePPr0s3orCbFo0aJFiybQiul/pY5Ih0/vra46Kh05xWxBYh3fPc8LwjAUm81GBEFw+/FyuYiqqsTxeMQ7oN50vBLgLITWFlJKlWWZekan00lpWKW/a6gDJhca0SRJomwEID2CAMomhUAjDoeDGqKmaZSegpPBYDqpoijUGOrApC4hPB11mqZqTNV13U6z0BVIgoXKIXQOOskVSINFyiVkPxeZLMZc5hSNyoEbJBt7bfxtrSCR9GnUiwVI2N2tWfyNlCb6LHobEAn7wS0C8ThBnIg6K/jyINdrPx85W5CyLM2DE6TM85wdBJa/j71/seuskh2CQHJOkPf9fs8KgsILj//FokROTCOXTSF7UrhMLIVtVfiZUNu4tvHtZtU8W6P3KKySqep1NRQGJnHKUvfmJjAyu93O9Gpfod6n6ZSKGQgO74QGYbE+AwQAOg6qx8hQK4bR+fHh+UJj/Nbrdetkxfl8Nhsd9gntpS50QPdzjAM6ziPTkJ6brivQ8Yt27FIsWjR/ca2RoFOmSvHnaiG/Wy/XuYC0i9qnxhuAzuGBuVbQafmDolPHdN7xggxWDUkCK8ve3lLul22a9X3fNLoFeLacRW2DwL0J4OjeBBb+ncvKw44U2PTiOB58Av8v44hNlax8Q97LGwMAU+d2iWNjQ2x1dxk0yEwmre2YUgAiU1nYjE6Gj+FM5yJMaRqdoBeEy2lkce3wcGQirIc5QtyNzMPT+porI40ldPKjkjjivvsYeYpln51rfdtut1/CW0WRqcVuBdlvAQYARja+X50ntJcAAAAASUVORK5CYII="},9:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAp9JREFUeNrsWEtO40AQ7U5MkmEAWRqJDZvMDcyC9Zgb5AYkNwgn8OQE5gYcIdwgZs2CHIENGySkCGZWIEJVuhyBsd3uapuf+kltEzddXZ9XVW0L4eDg4ODgwIdsSvDt3oEPtzGMP/ToHMbJr+uLxZcxhIyYwQgyU3MYh00Y02ooIHGOEYKexU1s2JQhIXOODa+AGiFteAY0mDPk+sy5MrpiNAcwEtAp0UYEFvSJ3xHdOUiYc2VY60Q6aqnl23oPMIGRl9ALmhOWUfa1hhCVJuS5EWdHknGY8X5CFWvONGREMiYWMhw+Hsu73UFNcnwcNckKOH3ktCYFIjqqWDuEVUVh4RLGzHLzPsnB0beUdYlymJ29FcJiG2/CcaQLt04aGa4RIKcdsA6NK+vlNvxxjz/35c7N3HBzOBnImZA7+Asf4OPfIOfKPFflVOlyB+JuJCMibZDR4+ZLrNZK2sY8KkTHUyE3tapWODSiMl5gogQoMATRgaJVGvsfeBmWVZ4cTEEGOHCjptOv/ImXcZWSTJGLlRczLJZdUfUYv86LlQNqO8ajEpspxXTVB4qD5+cfrNEQGar80UVUjpUDa38fwfBimIGz5ZyO3kbjTVQiTdOLlRGtJgwRlPht9Ojf8nJbJrablvWwgJaQ3L2CiNb2hrimWJRNWiq3A6pyGhm9olyJVWHpCVMwXnXbVIHENFOSX5RbHbAUtwKVC6/yYmiSFzW8syM9vH7q1dxyW4mmKlde5wXvw46ms5f1wLRbL0dKiS1jXqv1T8dwOQLD9JRaLgo7u4UhiAf4x//qG4bcYvjxEdb/q76+xBBPWGFD0Ux2LD7idETVpmf8OciMnJZKFPacd0n2z4dvY4inTcZvYEiiKoqDg4ODg4ODw3vjWYABAAUi2DBFLegtAAAAAElFTkSuQmCC"}},[[22,1,2]]]);
//# sourceMappingURL=main.4a19971a.chunk.js.map